{"version":3,"file":"static/js/908.5b011aa9.chunk.js","mappings":"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","sources":["components/First/FirstMain/Photos.jsx","webpack://new-react/./src/components/UI/Burger/Burger.module.css?a449","components/UI/Burger/Burger.jsx","webpack://new-react/./src/components/UI/MyLoader/MyLoader.module.css?6f3c","components/UI/MyLoader/MyLoader.jsx","webpack://new-react/./src/components/UI/Top/Top.module.css?386c","components/UI/Top/Top.jsx","pages/AllResponses/AllResponses.jsx","pages/Popup.jsx"],"sourcesContent":["import React, { memo, useMemo } from \"react\";\r\n\r\nconst Photos = ({ photos }) => {\r\n    const style = useMemo( () => {\r\n        if (photos.length === 1){\r\n            return {\r\n                width: \"calc(100% - 3.67px)\",\r\n                marginLeft: \"auto\",\r\n                marginRight: \"auto\",\r\n              }\r\n        }\r\n        else{\r\n            return {}\r\n        }\r\n    } )\r\n  return (\r\n    <>\r\n      {photos.length ? (\r\n        <div className=\"first__photos\">\r\n          {photos.map((e, i) => {\r\n            return (\r\n              <img\r\n                key={i}\r\n                src={URL.createObjectURL(e)}\r\n                style={style}\r\n                className=\"first__photo\"\r\n                alt=\"\"\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(Photos);\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Burger\":\"Burger_Burger__O+8mQ\",\"burgerMainWrapper\":\"Burger_burgerMainWrapper__riWYm\"};","import React from 'react';\r\nimport classes from \"./Burger.module.css\"\r\nconst Burger = ({ style, ...props}) => {\r\n    return (\r\n        <div {...props} style={style} className={classes.burgerMainWrapper}>\r\n\r\n            <div  className= {classes.Burger}>\r\n                <div  className=\"Burger__wrapper\">\r\n\r\n                </div>\r\n                <span></span>\r\n                <span></span>\r\n                <span></span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Burger;","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"MyLoader_main__XX0bH\"};","import { Triangle } from \"react-loader-spinner\";\r\nimport cl from \"./MyLoader.module.css\"\r\nimport { forwardRef } from \"react\";\r\nconst MyLoader = forwardRef(({...props}, ref) => {\r\n    return (\r\n      <div\r\n       {...props}\r\n        className={cl.main}\r\n      >\r\n\r\n            <div ref={ref} style={{\r\n                width : \"1px\",\r\n                height : \"2000px\",\r\n                position : \"absolute\",\r\n                top : \"-2000px\",\r\n                opacity : \"0\",\r\n                zIndex : -1,\r\n                left : '40px'\r\n            }} className=\"catch_block\"></div>\r\n        <Triangle\r\n          visible={true}\r\n          height=\"80\"\r\n          width=\"80\"\r\n          color=\"white\"\r\n          ariaLabel=\"triangle-loading\"\r\n          wrapperStyle={{}}\r\n          wrapperClass=\"\"\r\n        />\r\n      </div>\r\n    );\r\n  } );\r\n  export default MyLoader","// extracted by mini-css-extract-plugin\nexport default {\"top\":\"Top_top__QQtJc\",\"topIcon\":\"Top_topIcon__ZdibE\",\"MyAds\":\"Top_MyAds__yG3Vh\"};","import React, { memo } from 'react';\r\nimport Burger from '../Burger/Burger';\r\nimport { useSelector } from 'react-redux';\r\nimport cl from './Top.module.css'\r\nimport userPhoto from \"../../../images/userPhoto/user.png\"\r\nconst Top = ({setMenuActive , name , className, ...props}) => {\r\n    const userInfo = useSelector(state => state.telegramUserInfo)\r\n    return (\r\n        <div {...props} className={className ? [cl.top , className].join(' ') : cl.top}>\r\n            <Burger\r\n                style = {\r\n                    {\r\n                        position : 'unset'\r\n                    }\r\n                }\r\n                onClick={(e) => {\r\n                setMenuActive(true);\r\n                }}\r\n            />\r\n            <p className={cl.MyAds}>{name}</p>\r\n            <img style={{objectFit : \"cover\"}} className={cl.topIcon} src={userInfo.photo.length > 0 ? userInfo.photo : userPhoto} alt=\"\" />\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default memo(Top);","import React from \"react\";\r\nimport Photos from \"../../components/First/FirstMain/Photos\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteResponse, fetchALLResponses } from \"../../store/responses\";\r\nimport { useState } from \"react\";\r\nimport { useCallback } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport MyLoader from \"../../components/UI/MyLoader/MyLoader\";\r\nimport { useRef } from \"react\";\r\nimport makeNameFiles from \"../../functions/makeNameFiles\";\r\nimport makeNewFile from \"../../functions/newMakeFile\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport axios from \"axios\";\r\nimport Popup from \"../Popup\";\r\nimport useListner from \"../../hooks/useListner\";\r\nimport Top from \"../../components/UI/Top/Top\";\r\nimport { changeMenuActive } from \"../../store/menuSlice\";\r\n\r\nconst ModerResponse = ({ information, photos ,e,  setShow }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        padding: \"20px\",\r\n        color: \"white\",\r\n        fontFamily: \"SF Pro Display\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: \"20px\",\r\n      }}\r\n      className=\"First__block\"\r\n    >\r\n      <Photos photos={photos} />\r\n      <p className=\"response-modern-text\">{information}</p>\r\n      <button onClick={() => {\r\n        setShow({\r\n            isActive : true,\r\n            id : e.id,\r\n            responseName : e.information,\r\n            userId : e.user.id\r\n        })\r\n      }}  className=\"deleteResponse\">Удалить</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AllResponses = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const isMenuActive = useSelector((state) => state.menu.value);\r\n    const setMenuActive = useCallback(\r\n        (arg) => {\r\n          dispatch(changeMenuActive(arg));\r\n        },\r\n        [dispatch]\r\n      );\r\n      \r\n    useListner({\r\n        isMenuActive,\r\n        setMenuActive,\r\n      });\r\n\r\n\r\n\r\n  const [page, setPage] = useState(1);\r\n  const elementRef = useRef(null);\r\n\r\n  const orderStatus = useSelector((state) => state.responses.ALLReponsesStatus);\r\n  const ordersInformation = useSelector((state) => state.responses.ALLReponses);\r\n\r\n  const getMore = useCallback(async () => {\r\n    dispatch(fetchALLResponses([page]));\r\n    setPage(page + 1);\r\n  }, [page, setPage, dispatch]);\r\n\r\n  const onIntersaction = useCallback(\r\n    (entries) => {\r\n      const firtEntry = entries[0];\r\n      if (firtEntry.isIntersecting && orderStatus !== \"all\") {\r\n        getMore();\r\n      }\r\n    },\r\n    [orderStatus, getMore]\r\n  );\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(onIntersaction);\r\n    if (observer && elementRef.current) {\r\n      observer.observe(elementRef.current);\r\n    }\r\n    return () => {\r\n      observer.disconnect();\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [ordersInformation]);\r\n\r\n  console.log(ordersInformation);\r\n\r\n  const [isShow , setShow] = useState( {\r\n    isActive : false,\r\n    id : 0,\r\n    userId : 0,\r\n    responseName : 0\r\n  } )\r\n\r\n\r\n  const extraDeleteFunction = useCallback(  () => {\r\n    const text = isShow.responseName.length > 20 ? isShow.responseName.splice(0,20) + \"...\" : isShow.responseName\r\n    async function deleteAd(params) {\r\n      try {\r\n        await axios.delete(\"https://back-birga.ywa.su/response\", {\r\n          params: {\r\n            id: isShow.id,\r\n          },\r\n        });\r\n  \r\n        await axios.get(\"https://back-birga.ywa.su/user/sendMessage\" , {\r\n          params : {\r\n            \"chatId\" : isShow.userId,\r\n            \"buttonUrl\" : \"https://ya.ru/\",\r\n            \"text\" : \"📣 ‼️Ваш отклик «\" + text  + \"» был удален в связи с нарушениями правил Коннект Биржи\"\r\n          }\r\n        })\r\n        dispatch(deleteResponse(isShow.id))\r\n        setShow(false)\r\n        \r\n\r\n      } catch (e) {\r\n        alert(\"Не удалось удалить задание , возможно оно уже блыо удалено.\");\r\n        console.warn(e);\r\n      }\r\n    }\r\n\r\n    deleteAd()\r\n\r\n\r\n\r\n  }, [isShow] )\r\n\r\n  return (\r\n    <>\r\n    <div\r\n      style={{\r\n        marginLeft: \"auto\",\r\n        marginRight: \"auto\",\r\n      }}\r\n      className=\"FirstMain\"\r\n    >\r\n\r\n      {ordersInformation.length === 0 ? (\r\n        <h1 className=\"EmptyText\"> Нет таких предложений </h1>\r\n      ) : (\r\n        ordersInformation.map((e, i) => {\r\n          return (\r\n            <ModerResponse setShow={setShow} e={e}  information={e.information} photos={e.photos} />\r\n          );\r\n        })\r\n      )}\r\n\r\n      {orderStatus !== \"all\" && (\r\n        <MyLoader\r\n          ref={elementRef}\r\n          className=\"block\"\r\n          style={{\r\n            transform: \"translateX(-16px)\",\r\n            width: \"100vw\",\r\n            height: \"300px\",\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n\r\n    <CSSTransition classNames={\"show\"} in = {isShow.isActive} timeout={200} mountOnEnter unmountOnExit >\r\n          <Popup setShow={setShow} clickHandler={extraDeleteFunction} text={\"Удалить это задание?\"} />\r\n    </CSSTransition>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllResponses;\r\n","import { useCallback } from \"react\"\r\n\r\nconst Popup = ({clickHandler , text , setShow}) => {\r\n    const closeFunction = useCallback( () => {\r\n      setShow((value) => ({...value , isActive : false}))\r\n    } , [setShow] )\r\n    return(\r\n      <div className=\"wrapper__popup\">\r\n    <div className=\"black__wrapper\" onClick={() => {\r\n      closeFunction()\r\n    }}>\r\n      </div>\r\n      <div className=\"popup\">\r\n        <p>{text}</p>\r\n        <div className=\"popup__bottom\">\r\n          <button onClick={clickHandler} className=\"button\">Да</button>\r\n          <button onClick={closeFunction} className=\"button\">Нет</button>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    \r\n    )\r\n  }\r\n  export default Popup"],"names":["Photos","_ref","photos","style","useMemo","length","width","marginLeft","marginRight","_jsx","_Fragment","children","className","map","e","i","src","URL","createObjectURL","alt","memo","props","classes","_jsxs","forwardRef","ref","cl","height","position","top","opacity","zIndex","left","Triangle","visible","color","ariaLabel","wrapperStyle","wrapperClass","Top","setMenuActive","name","userInfo","useSelector","state","telegramUserInfo","join","Burger","onClick","MyAds","objectFit","topIcon","photo","userPhoto","ModerResponse","information","setShow","padding","fontFamily","display","flexDirection","gap","isActive","id","responseName","userId","user","AllResponses","dispatch","useDispatch","isMenuActive","menu","value","useCallback","arg","changeMenuActive","useListner","page","setPage","useState","elementRef","useRef","orderStatus","responses","ALLReponsesStatus","ordersInformation","ALLReponses","getMore","async","fetchALLResponses","onIntersaction","entries","isIntersecting","useEffect","observer","IntersectionObserver","current","observe","disconnect","console","log","isShow","extraDeleteFunction","text","splice","params","axios","delete","get","deleteResponse","alert","warn","deleteAd","MyLoader","transform","CSSTransition","classNames","in","timeout","mountOnEnter","unmountOnExit","Popup","clickHandler","closeFunction"],"sourceRoot":""}